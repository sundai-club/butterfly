<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>Butterfly Settings</title>
  <link rel="stylesheet" href="styles.css">
</head>

<body>
  <div class="popup-container">
    <h2>Butterfly Settings <span class="version" id="version"></span></h2>
    <div class="settings-section">
      <div class="api-key-row">
        <label for="api-key"><a href="https://aistudio.google.com/apikey" target="_blank" style="color:var(--text);">Google Gemini API Key:</a></label>
        <input type="password" id="api-key" placeholder="Paste your Gemini API key here">
        <div class="api-key-status">
          <span id="api-key-preview"></span>
          <button id="test-api-key" class="test-btn" style="display:none;">check</button>
          <span id="test-result" class="test-result"></span>
        </div>
      </div>
      
      <label for="model-picker">Model:</label>
      <select id="model-picker">
        <option value="gemini-2.5-flash">gemini-2.5-flash (default)</option>
        <option value="gemini-2.5-flash-lite">gemini-2.5-flash-lite</option>
        <option value="gemini-2.5-pro">gemini-2.5-pro</option>
      </select>
    </div>
    
    <!-- Prompts Section -->
    <div class="prompts-section">
      <div class="divider"></div>
      <h3>Prompts</h3>
      <div class="prompt-tabs">
        <button class="tab-btn active" data-tab="linkedin">LinkedIn</button>
        <button class="tab-btn" data-tab="producthunt">Product Hunt</button>
        <button class="tab-btn" data-tab="twitter">Twitter/X</button>
      </div>
      <div class="tab-content">
        <div class="tab-pane active" id="tab-linkedin">
          <textarea class="prompt-textarea" id="linkedin-prompt" rows="7" placeholder="Enter LinkedIn prompt...">Write a single, concise, professional congratulatory comment for this LinkedIn post. Only output the final comment — do not include options, explanations, formatting, or any extra text. Include author's name in the comment.</textarea>
          <button class="reset-prompt-btn" data-platform="linkedin">Reset to Default</button>
        </div>
        <div class="tab-pane" id="tab-producthunt">
          <textarea class="prompt-textarea" id="producthunt-prompt" rows="7" placeholder="Enter Product Hunt prompt...">Write a single, concise, and engaging comment for this Product Hunt post. The comment should be supportive of the product and its creator(s). The comment could highlight a cool feature, ask a question, or express excitement. Only output the final comment — no extra text, options, or formatting. If appropriate and known, mention the product name or the creator's name.</textarea>
          <button class="reset-prompt-btn" data-platform="producthunt">Reset to Default</button>
        </div>
        <div class="tab-pane" id="tab-twitter">
          <textarea class="prompt-textarea" id="twitter-prompt" rows="7" placeholder="Enter Twitter/X prompt...">Write a single, concise, engaging comment for this Twitter/X post. Be conversational and authentic. Keep it brief and relevant to the topic. Only output the final comment — no extra text, options, or formatting.</textarea>
          <button class="reset-prompt-btn" data-platform="twitter">Reset to Default</button>
        </div>
      </div>
      <div class="question-toggle">
        <input type="checkbox" id="end-with-question" />
        <label for="end-with-question">End comments with a question</label>
      </div>
      <div class="length-slider-container">
        <label for="length-slider">Comment length:</label>
        <div class="slider-wrapper">
          <input type="range" id="length-slider" min="0" max="2" value="1" />
          <div class="slider-labels">
            <span>Short</span>
            <span>Medium</span>
            <span>Long</span>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Rating and Chrome Web Store Link -->
    <div class="rating-section">
      <div class="divider"></div>
      <p class="rating-text">Enjoying Butterfly? Rate us!</p>
      <div class="star-rating">
        <span class="star" data-value="1">&#9733;</span>
        <span class="star" data-value="2">&#9733;</span>
        <span class="star" data-value="3">&#9733;</span>
        <span class="star" data-value="4">&#9733;</span>
        <span class="star" data-value="5">&#9733;</span>
      </div>
      <a href="https://chromewebstore.google.com/detail/butterfly/glnbimhldddbgjpoeohaogmhfmkfjbop" 
         target="_blank" 
         class="webstore-link">
        View in Chrome Web Store
      </a>
      <a href="https://github.com/sundai-club/butterfly/issues" 
         target="_blank" 
         class="issues-link">
        Report Issues
      </a>
    </div>
    
    <script src="popup.js"></script>
  </div>
</body>

</html>