<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>Butterfly Settings</title>
  <link rel="stylesheet" href="styles.css">
</head>

<body>
  <div class="popup-container">
    <h2>Butterfly Settings <span class="version" id="version"></span></h2>
    <div class="settings-section">
      <h3>Google Gemini AI</h3>
      <div class="api-key-row">
        <label for="api-key">
          <a href="https://aistudio.google.com/apikey" target="_blank" style="color:var(--text);">API Key:</a><br>
          <a href="https://aistudio.google.com/usage" target="_blank" style="color:var(--text); font-size: 0.85em;">(usage)</a>
        </label>
        <div class="api-key-input-wrapper">
          <input type="password" id="api-key" placeholder="Paste your Gemini API key here">
          <div class="api-key-status">
            <span id="api-key-preview"></span>
            <button id="test-api-key" class="test-btn" style="display:none;">check</button>
            <span id="test-result" class="test-result"></span>
          </div>
        </div>
      </div>
      
      <div class="model-picker-row">
        <label for="model-picker">Model:</label>
        <select id="model-picker">
          <option value="gemini-2.5-pro">gemini-2.5-pro</option>
          <option value="gemini-2.5-flash">gemini-2.5-flash</option>
          <option value="gemini-2.5-flash-lite">gemini-2.5-flash-lite (default)</option>
        </select>
      </div>
    </div>
    
    <!-- Platform Settings Section -->
    <div class="platform-settings-section">
      <div class="divider"></div>
      <h3>Enabled Platforms</h3>
      <div class="platform-checkboxes">
        <div class="platform-checkbox">
          <input type="checkbox" id="platform-linkedin" checked>
          <label for="platform-linkedin">LinkedIn</label>
        </div>
        <div class="platform-checkbox">
          <input type="checkbox" id="platform-producthunt" checked>
          <label for="platform-producthunt">Product Hunt</label>
        </div>
        <div class="platform-checkbox">
          <input type="checkbox" id="platform-twitter">
          <label for="platform-twitter">Twitter/X (experimental)</label>
        </div>
      </div>
    </div>
    
    <!-- Prompts Section -->
    <div class="prompts-section">
      <div class="divider"></div>
      <h3>Prompts</h3>
      <div class="prompt-tabs">
        <button class="tab-btn active" data-tab="linkedin">LinkedIn</button>
        <button class="tab-btn" data-tab="producthunt">Product Hunt</button>
        <button class="tab-btn" data-tab="twitter">Twitter/X</button>
      </div>
      <div class="tab-content">
        <div class="tab-pane active" id="tab-linkedin">
          <textarea class="prompt-textarea" id="linkedin-prompt" rows="7" placeholder="Enter LinkedIn prompt...">Write a single, concise, professional congratulatory comment for this LinkedIn post. CRITICAL: You MUST write your response in the SAME LANGUAGE as the original post. If the post is in Russian, write in Russian. If in Spanish, write in Spanish. If in English, write in English. Match the language exactly. Use simple, clear language. Only output the final comment — do not include options, explanations, formatting, or any extra text. Include author's name in the comment.</textarea>
          <button class="reset-prompt-btn" data-platform="linkedin" style="display:none;">Reset to Default</button>
        </div>
        <div class="tab-pane" id="tab-producthunt">
          <textarea class="prompt-textarea" id="producthunt-prompt" rows="7" placeholder="Enter Product Hunt prompt...">Write a single, concise, and engaging comment for this Product Hunt post. CRITICAL: You MUST write your response in the SAME LANGUAGE as the original post. If the post is in French, write in French. If in Russian, write in Russian. If in English, write in English. Match the language exactly. The comment should be supportive of the product and its creator(s). Use simple, clear language. The comment could highlight a cool feature, ask a question, or express excitement. Only output the final comment — no extra text, options, or formatting. If appropriate and known, mention the product name or the creator's name.</textarea>
          <button class="reset-prompt-btn" data-platform="producthunt" style="display:none;">Reset to Default</button>
        </div>
        <div class="tab-pane" id="tab-twitter">
          <textarea class="prompt-textarea" id="twitter-prompt" rows="7" placeholder="Enter Twitter/X prompt...">Write a single, concise, engaging comment for this Twitter/X post. CRITICAL: You MUST write your response in the SAME LANGUAGE as the original post. If the post is in Japanese, write in Japanese. If in Russian, write in Russian. If in English, write in English. Match the language exactly. Be conversational and authentic using simple, clear language. Keep it brief and relevant to the topic. Only output the final comment — no extra text, options, or formatting.</textarea>
          <button class="reset-prompt-btn" data-platform="twitter" style="display:none;">Reset to Default</button>
        </div>
      </div>
      <div class="question-toggle">
        <input type="checkbox" id="end-with-question" />
        <label for="end-with-question">End comments with a question</label>
      </div>
      <div class="tone-selector-container">
        <label for="tone-selector">Comment tone:</label>
        <select id="tone-selector">
          <option value="none">None (Default)</option>
          <option value="friendly">Friendly</option>
          <option value="enthusiastic">Enthusiastic</option>
          <option value="thoughtful">Thoughtful</option>
          <option value="bold">Bold</option>
          <option value="provocative">Provocative</option>
          <option value="humorous">Humorous</option>
          <option value="empathetic">Empathetic</option>
          <option value="doomed">Doomed</option>
        </select>
      </div>
      <div class="length-slider-container">
        <label for="length-slider">Comment length:</label>
        <div class="slider-wrapper">
          <input type="range" id="length-slider" min="0" max="2" value="1" />
          <div class="slider-labels">
            <span>Short</span>
            <span>Medium</span>
            <span>Long</span>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Rating and Chrome Web Store Link -->
    <div class="rating-section">
      <div class="divider"></div>
      <p class="rating-text">Enjoying Butterfly? Rate us!</p>
      <div class="star-rating">
        <span class="star" data-value="1">&#9733;</span>
        <span class="star" data-value="2">&#9733;</span>
        <span class="star" data-value="3">&#9733;</span>
        <span class="star" data-value="4">&#9733;</span>
        <span class="star" data-value="5">&#9733;</span>
      </div>
      <a href="https://chromewebstore.google.com/detail/butterfly/glnbimhldddbgjpoeohaogmhfmkfjbop" 
         target="_blank" 
         class="webstore-link">
        View in Chrome Web Store
      </a>
      <div class="footer-links">
        <a href="https://github.com/sundai-club/butterfly/issues" 
           target="_blank" 
           class="issues-link">
          Report Issues
        </a>
        <span class="separator">•</span>
        <a href="https://sundai.club" 
           target="_blank" 
           class="sundai-link">
          Built at MIT Sundai Club
        </a>
      </div>
    </div>
    
    <script src="popup.js"></script>
  </div>
</body>

</html>